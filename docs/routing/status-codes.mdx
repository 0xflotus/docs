import Image from '~/components/image'
import Caption from '~/components/text/caption'
import { Table, Row, Column } from '~/components/table'

## Status Codes

In order to give you the best possible insight into what exactly is wrong with your deployment, we implemented several status codes into the [Routing Layer](http://link-to-routing-overview) of Now.

### Response Types

By default, browsers (and any other client that sets the [`Accept`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept) header to a value containing `text/html`) will receive the status codes as the following HTML template:

<Image src={`https://assets.zeit.co/image/upload/v1541618244/front/docs/routing/status-codes/preview.png`}
  width={1364/2}
  height={818/2}
/>

<Caption>An example of how a status code response could look like</Caption>

Depending on your status code, the title ("404"), description ("The page could not be found") and the code ("NO_FILES_FOUND") will vary.

However, if your client is sending the `Accept` header with a value that contains `application/json`, it will receive the same error, but formatted as [JSON](https://en.wikipedia.org/wiki/JSON):

```
{
    "status": "NO_FILES_FOUND",
    "description": "The page could not be found"
}
```

Assuming that your client is not sending the `Accept` header at all, we will default to sending the description of the status code in the `text/plain` format (plain text):

```
The page could not be found
```

### List of Status Codes

<Table>
  <Row header>
    <Column left>Status&nbsp;Code</Column>
    <Column>Identifier</Column>
    <Column right>Description</Column>
  </Row>

<Row>
    <Column left>303</Column>
    <Column>`DEPLOYMENT_NOT_READY_REDIRECTING`</Column>
    <Column right>Deployment not ready, redirecting to inspector.</Column>
  </Row>

<Row>
    <Column left>402</Column>
    <Column>`DEPLOYMENT_BLOCKED`</Column>
    <Column right>Your subscription was blocked.</Column>
  </Row>

<Row>
    <Column left>404</Column>
    <Column>`NO_FILES_FOUND`</Column>
    <Column right>There is no <b>Static File</b> or <b>Lambda</b> in your <b>Build Output</b> that matches this path.</Column>
  </Row>

<Row>
    <Column left>404</Column>
    <Column>`DEPLOYMENT_NOT_FOUND`</Column>
    <Column right>The deployment you tried to access does not exist.</Column>
  </Row>

<Row>
    <Column left>413</Column>
    <Column>`LAMBDA_PAYLOAD_TOO_LARGE`</Column>
    <Column right>The request's body is too large for invoking the <b>Lambda</b>.</Column>
  </Row>

<Row>
    <Column left>500</Column>
    <Column>`INTERNAL_LAMBDA_NOT_FOUND`</Column>
    <Column right>We were not able to locate the <b>Lambda</b> responsible for the path you tried to access.</Column>
  </Row>

<Row>
    <Column left>500</Column>
    <Column>`INTERNAL_INVALID_LAMBDA_REGION`</Column>
    <Column right>No <b>Lambda</b> was found in the region identifier attached to the deployment.</Column>
  </Row>

<Row>
    <Column left>500</Column>
    <Column>`INTERNAL_LAMBDA_INVOCATION_FAILED`</Column>
    <Column right>The <b>Routing layer</b> was not able to invoke the <b>Lambda</b>.</Column>
  </Row>

<Row>
    <Column left>502</Column>
    <Column>`NO_STATUS_CODE_FROM_LAMBDA`</Column>
    <Column right>The <b>Lambda</b> responsible for the path you tried to access did not reply with a status code.</Column>
  </Row>

<Row>
    <Column left>504</Column>
    <Column>`LAMBDA_INVOCATION_TIMEOUT`</Column>
    <Column right>The <b>Lambda</b> responsible for the path you tried to access did not reply in time.</Column>
  </Row>
</Table>
